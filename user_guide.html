
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>User guide &#8212; Qiskit on IQM 0.2 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/nature.css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="API Reference" href="API.html" />
    <link rel="prev" title="Qiskit on IQM" href="index.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="API.html" title="API Reference"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Qiskit on IQM"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Qiskit on IQM 0.2 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">User guide</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="user-guide">
<span id="id1"></span><h1>User guide<a class="headerlink" href="#user-guide" title="Permalink to this headline">¶</a></h1>
<p>This guide illustrates the main features of Qiskit on IQM. You are encouraged to run the demonstrated
code snippets and check the output yourself.</p>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>The recommended way is to install the distribution package <code class="docutils literal notranslate"><span class="pre">qiskit-iqm</span></code> directly from the
Python Package Index (PyPI):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ pip install qiskit-iqm
</pre></div>
</div>
<p>After installation Qiskit on IQM can be imported in your Python code as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">qiskit_iqm</span>
</pre></div>
</div>
</section>
<section id="running-a-quantum-circuit-on-an-iqm-quantum-computer">
<h2>Running a quantum circuit on an IQM quantum computer<a class="headerlink" href="#running-a-quantum-circuit-on-an-iqm-quantum-computer" title="Permalink to this headline">¶</a></h2>
<p>In this section we construct a simple quantum circuit and demonstrate how to execute it on an IQM quantum computer.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>At the moment IQM provides on-premises deployments of quantum computers only and does not have a quantum
computing service open to the general public.</p>
</div>
<p>Let’s consider the following quantum circuit which prepares and measures a Bell state:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">qiskit</span> <span class="kn">import</span> <span class="n">QuantumCircuit</span>

<span class="n">qc</span> <span class="o">=</span> <span class="n">QuantumCircuit</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">qc</span><span class="o">.</span><span class="n">h</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">qc</span><span class="o">.</span><span class="n">cx</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">qc</span><span class="o">.</span><span class="n">measure</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>

<span class="n">qc</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>     ┌───┐     ┌─┐
q_0: ┤ H ├──■──┤M├───
     └───┘┌─┴─┐└╥┘┌─┐
q_1: ─────┤ X ├─╫─┤M├
          └───┘ ║ └╥┘
c: 2/═══════════╩══╩═
                0  1
</pre></div>
</div>
<p>First, we need to decompose it into IQM’s native gate family:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">qiskit.compiler</span> <span class="kn">import</span> <span class="n">transpile</span>

<span class="n">qc_decomposed</span> <span class="o">=</span> <span class="n">transpile</span><span class="p">(</span><span class="n">qc</span><span class="p">,</span> <span class="n">basis_gates</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s1">&#39;cz&#39;</span><span class="p">])</span>

<span class="n">qc_decomposed</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>global phase: 3π/2
     ┌────────────┐┌────────┐                 ┌─┐
q_0: ┤ R(π/2,π/2) ├┤ R(π,0) ├─■───────────────┤M├─────────────
     ├────────────┤├────────┤ │ ┌────────────┐└╥┘┌────────┐┌─┐
q_1: ┤ R(π/2,π/2) ├┤ R(π,0) ├─■─┤ R(π/2,π/2) ├─╫─┤ R(π,0) ├┤M├
     └────────────┘└────────┘   └────────────┘ ║ └────────┘└╥┘
c: 2/══════════════════════════════════════════╩════════════╩═
                                           0            1
</pre></div>
</div>
<p>Then, to run this circuit on an IQM quantum computer we need to figure out how to map the virtual qubits to physical ones.
Let’s assume we are working with one of IQM’s 5-qubit Adonis chips which have the following connectivity</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>      <span class="n">QB1</span>
       <span class="o">|</span>
<span class="n">QB2</span> <span class="o">-</span> <span class="n">QB3</span> <span class="o">-</span> <span class="n">QB4</span>
       <span class="o">|</span>
      <span class="n">QB5</span>
</pre></div>
</div>
<p>We can choose any pair of connected physical qubits and map the two virtual qubits in the circuit to them, e.g.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">virtual_qubits</span> <span class="o">=</span> <span class="n">qc_decomposed</span><span class="o">.</span><span class="n">qubits</span>
<span class="n">qubit_mapping</span> <span class="o">=</span> <span class="p">{</span><span class="n">virtual_qubits</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span> <span class="s1">&#39;QB1&#39;</span><span class="p">,</span> <span class="n">virtual_qubits</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="s1">&#39;QB3&#39;</span><span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Currently, <code class="xref py py-class docutils literal notranslate"><span class="pre">IQMBackend</span></code> does not support automatic generation of mapping from virtual qubits to physical ones
using Qiskit transpilers, so it has to be done manually. In a simple scenario as above it is pretty straightforward
to do the mapping manually. However in more complicated cases were SWAP gates need to be inserted to accomplish the
mapping you can still use Qiskit tools to transpile the circuit against a certain coupling map and then extract
<code class="docutils literal notranslate"><span class="pre">qubit_mapping</span></code> from the result.</p>
</div>
<p>Now that we have everything ready, we can run the circuit against the available IQM backend:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">qiskit_iqm</span> <span class="kn">import</span> <span class="n">IQMProvider</span>

<span class="n">provider</span> <span class="o">=</span> <span class="n">IQMProvider</span><span class="p">(</span><span class="n">iqm_server_url</span><span class="p">,</span> <span class="n">iqm_settings_path</span><span class="p">)</span>
<span class="n">backend</span> <span class="o">=</span> <span class="n">provider</span><span class="o">.</span><span class="n">get_backend</span><span class="p">()</span>
<span class="n">job</span> <span class="o">=</span> <span class="n">backend</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">qc_decomposed</span><span class="p">,</span> <span class="n">shots</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">qubit_mapping</span><span class="o">=</span><span class="n">qubit_mapping</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">job</span><span class="o">.</span><span class="n">result</span><span class="p">()</span><span class="o">.</span><span class="n">get_counts</span><span class="p">())</span>
</pre></div>
</div>
<p>Note that the code snippet above assumes that you have set the variables <code class="docutils literal notranslate"><span class="pre">iqm_server_url</span></code> and <code class="docutils literal notranslate"><span class="pre">iqm_settings_path</span></code>.
If the IQM server you are connecting to requires authentication, you will also have to set the IQM_SERVER_USERNAME
and IQM_SERVER_API_KEY environment variables or pass them as arguments to the constructor of <a class="reference internal" href="api/qiskit_iqm.iqm_provider.IQMProvider.html#qiskit_iqm.iqm_provider.IQMProvider" title="qiskit_iqm.iqm_provider.IQMProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">IQMProvider</span></code></a>.</p>
</section>
<section id="how-to-develop-and-contribute">
<h2>How to develop and contribute<a class="headerlink" href="#how-to-develop-and-contribute" title="Permalink to this headline">¶</a></h2>
<p>Qiskit on IQM is an open source Python project.
You can contribute by creating GitHub issues to report bugs or request new features,
or by opening a pull request to submit your own improvements to the codebase.</p>
<p>To start developing the project, clone the
<a class="reference external" href="https://github.com/iqm-finland/qiskit-on-iqm">GitHub repository</a>
and install it in editable mode with all the extras:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git clone git@github.com:iqm-finland/qiskit-on-iqm.git
$ <span class="nb">cd</span> qiskit-on-iqm
$ pip install -e <span class="s2">&quot;.[dev,docs,testing]&quot;</span>
</pre></div>
</div>
<p>Build and view the docs:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ tox -e docs
$ firefox build/sphinx/html/index.html
</pre></div>
</div>
<p>Run the tests:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ tox
</pre></div>
</div>
</section>
<section id="tagging-and-releasing">
<h2>Tagging and releasing<a class="headerlink" href="#tagging-and-releasing" title="Permalink to this headline">¶</a></h2>
<p>After implementing changes to Qiskit on IQM one usually wants to release a new version. This means
that after the changes are merged to the main branch</p>
<ol class="arabic simple">
<li><p>the repository should have an updated <code class="docutils literal notranslate"><span class="pre">CHANGELOG.rst</span></code> with information about the new changes,</p></li>
<li><p>the latest commit should be tagged with the new version number,</p></li>
<li><p>and a release should be created based on that tag.</p></li>
</ol>
<p>The last two steps are automated, so one needs to worry only about properly updating the CHANGELOG.
It should be done along with the pull request which is introducing the main changes. The new version
must be added on top of all existing versions and the title must be “Version MAJOR.MINOR”, where MAJOR.MINOR
represents the new version number. Please take a look at already existing versions and format the rest of
your new CHANGELOG section similarly. Once the pull request is merged into main, a new tag and a release will
be created automatically based on the latest version definition in the CHANGELOG.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/logo.jpg" alt="Logo"/>
            </a></p>
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">User guide</a><ul>
<li><a class="reference internal" href="#installation">Installation</a></li>
<li><a class="reference internal" href="#running-a-quantum-circuit-on-an-iqm-quantum-computer">Running a quantum circuit on an IQM quantum computer</a></li>
<li><a class="reference internal" href="#how-to-develop-and-contribute">How to develop and contribute</a></li>
<li><a class="reference internal" href="#tagging-and-releasing">Tagging and releasing</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="index.html"
                          title="previous chapter">Qiskit on IQM</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="API.html"
                          title="next chapter">API Reference</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/user_guide.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="API.html" title="API Reference"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Qiskit on IQM"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Qiskit on IQM 0.2 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">User guide</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2022, Qiskit on IQM developers.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.4.0.
    </div>
  </body>
</html>